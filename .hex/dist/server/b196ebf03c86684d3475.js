exports.ids=[97],exports.modules={1119:function(e,t,l){"use strict";l.r(t);var r=l(652),n=l.n(r);for(var o in r)"default"!==o&&function(e){l.d(t,e,(function(){return r[e]}))}(o);t.default=n.a},1120:function(e,t,l){var r=l(8);(e.exports=l(1)(!1)).push([e.i,".hex-im{width:100%;height:100%;display:flex;flex-direction:column;background:#fff;border-radius:4px;border:1px solid #e1e0ec;font-size:14px}.hex-im .photo{display:inline-block;border-radius:200px;text-align:center;min-width:36px;width:36px;height:36px;line-height:36px;vertical-align:middle;margin-right:10px;color:#fff}.hex-im .im_top{height:75px;padding:0 20px;line-height:75px}.hex-im .im_top .info{line-height:1.5;display:inline-block;vertical-align:middle}.hex-im .im_top .name{font-weight:700;color:#000}.hex-im .im_top .comment{display:inline-block;font-weight:400;font-size:12px;color:#a5a9be}.hex-im .im_top .phone{background-image:url("+r(l(1121))+");background-repeat:no-repeat;background-size:cover;display:inline-block;width:24px;height:24px;vertical-align:middle;cursor:pointer}.hex-im .im_top .phone:hover{background-image:url("+r(l(1122))+')}.hex-im .im_center{overflow:hidden;flex:600px;padding:0 19px;background-color:#f5f7fb;text-align:center}.hex-im .im_center .time{display:inline-block;height:18px;line-height:18px;background:#fbfcfe;border-radius:3px;font-size:12px;color:#999;margin:10px 0;padding:2px 5px}.hex-im .im_center .tip{display:inline-block;max-width:240px;line-height:normal;background:#e8ecf2;border-radius:3px;padding:8px 22px;font-size:14px;color:#333;text-align:left;margin-bottom:20px}.hex-im .im_center .message{margin-bottom:20px;width:100%}.hex-im .im_center .message .photo{margin:0}.hex-im .im_center .message .self{float:left;max-width:70%;display:flex}.hex-im .im_center .message .other{float:right;max-width:70%;display:flex}.hex-im .im_center .message .self .message_text{margin-left:10px}.hex-im .im_center .message .self .message_text:before{border-width:5px 7px 5px 0;border-color:transparent #fff transparent transparent;left:-6px}.hex-im .im_center .message .other .message_text:after{border-width:5px 0 5px 7px;border-color:transparent transparent transparent #fff;right:-6px}.hex-im .im_center .message .other .message_text:after,.hex-im .im_center .message .self .message_text:before{content:"";top:15px;display:inline-block;width:0;height:0;position:absolute;border-style:solid}.hex-im .im_center .message .other .message_text{margin-right:10px}.hex-im .im_center .message .message_text{position:relative;background:#fff;border-radius:5px;padding:10px 16px;font-size:14px;color:#21283e;display:inline-block;flex:1;word-break:break-all;text-align:left}.hex-im .im_bottom{flex:auto;min-height:60px;padding:20px;display:flex;flex-direction:row;align-items:flex-end}.hex-im .im_bottom .im_textarea .el-textarea__inner{resize:none;flex:auto;border:0;padding:0;max-height:100px}.hex-im .im_bottom .im_textarea.el-textarea{width:auto;flex:auto;margin-right:20px}.hex-im .im_bottom .link,.hex-im .im_bottom .push{display:inline-block;background-repeat:no-repeat;background-size:cover;vertical-align:middle;cursor:pointer}.hex-im .im_bottom .push{width:20px;height:18px;background-image:url('+r(l(1123))+")}.hex-im .im_bottom .link{width:18px;height:18px;margin-left:20px;background-image:url("+r(l(1124))+")}.hex-im .im_bottom .push:hover{background-image:url("+r(l(1125))+")}.hex-im .im_bottom .link:hover{background-image:url("+r(l(1126))+")}.hex-im .im_bottom .link .link_pic{display:none}.hex-im .link_fileimage{width:600px}.hex-im .link_fileimage .el-dialog__header{padding:0}.hex-im .link_fileimage .el-dialog__body{text-align:center}.hex-im .link_fileimage .el-dialog__body img{width:auto;max-width:100%;vertical-align:middle}",""])},1121:function(e,t,l){e.exports=l.p+"img/60c7bb6.svg"},1122:function(e,t,l){e.exports=l.p+"img/6341400.svg"},1123:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDIwIDE4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMSAoNTc1MDEpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5TaGFwZTwvdGl0bGU+DQogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+DQogICAgPGRlZnM+PC9kZWZzPg0KICAgIDxnIGlkPSJDMkMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPg0KICAgICAgICA8ZyBpZD0i5rOV5biB6aaW6aG1Lei0reS5sOivpuaDhSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEyNDIuMDAwMDAwLCAtNzgzLjAwMDAwMCkiIGZpbGw9IiNCREJDQ0IiIGZpbGwtcnVsZT0ibm9uemVybyI+DQogICAgICAgICAgICA8ZyBpZD0i5Y+R6YCBIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjQyLjAwMDAwMCwgNzgzLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJTaGFwZSIgcG9pbnRzPSIwLjAwOTYzNTQxNjY3IDE4IDIwIDkgMC4wMDk2MzU0MTY2NyAwIDAgNy4wMDAwMzEyNSAxNC4yODU2NzcxIDkgMCAxMC45OTk5Njg4Ij48L3BvbHlnb24+DQogICAgICAgICAgICA8L2c+DQogICAgICAgIDwvZz4NCiAgICA8L2c+DQo8L3N2Zz4="},1124:function(e,t,l){e.exports=l.p+"img/8c14478.svg"},1125:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjIwcHgiIGhlaWdodD0iMThweCIgdmlld0JveD0iMCAwIDIwIDE4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMSAoNTc1MDEpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5TaGFwZSBDb3B5PC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZGVmcz48L2RlZnM+DQogICAgPGcgaWQ9IkMyQyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSLms5XluIHpppbpobUt6LSt5Lmw6K+m5oOFIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTI0Mi4wMDAwMDAsIC04MTMuMDAwMDAwKSIgZmlsbD0iIzE0YTJhNSIgZmlsbC1ydWxlPSJub256ZXJvIj4NCiAgICAgICAgICAgIDxnIGlkPSLlj5HpgIEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyNDIuMDAwMDAwLCA3ODMuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPHBvbHlnb24gaWQ9IlNoYXBlLUNvcHkiIHBvaW50cz0iMC4wMDk2MzU0MTY2NyA0OCAyMCAzOSAwLjAwOTYzNTQxNjY3IDMwIDAgMzcuMDAwMDMxMiAxNC4yODU2NzcxIDM5IDAgNDAuOTk5OTY4OCI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},1126:function(e,t,l){e.exports=l.p+"img/016dad6.svg"},1127:function(e,t,l){"use strict";l.r(t);var r=l(653),n=l.n(r);for(var o in r)"default"!==o&&function(e){l.d(t,e,(function(){return r[e]}))}(o);t.default=n.a},1128:function(e,t,l){var r=l(8);(e.exports=l(1)(!1)).push([e.i,".detail{background-color:#fff}.detail-nav{display:flex;flex-direction:row;justify-content:space-between;font-size:14px;color:#21283e;padding-bottom:10px;margin-bottom:10px;border-bottom:1px solid #f5f5f8}.detail-nav .service{color:#14a2a5;font-weight:600}.detail-nav .service>span{margin-left:20px;cursor:pointer}.detail-content{display:flex;flex-direction:row;width:1200px;margin:auto;padding:30px 0;line-height:1.5}.detail-content .detail-content_socket{width:360px;min-width:360px;max-width:360px;max-height:753px}.detail-content .detail-content_content{flex:auto;margin-right:20px}.detail-content .detail-title{font-size:20px;font-weight:600;color:#21283e;margin-bottom:10px}.detail-content .detail-title-price{font-size:14px;margin-bottom:10px}.detail-content .detail-title-price .tip{color:#646b8c;margin-right:10px}.detail-content .detail-title-price .tip_value{color:#344b6c;font-weight:600}.detail-content .detail-way-br{margin-top:30px;margin-bottom:20px;display:flex;flex-direction:row;line-height:20px;align-items:center}.detail-content .detail-way-br .tip{font-size:14px;color:#999;margin-right:10px}.detail-content .detail-way-br .br{height:1px;flex:auto;background-color:#f5f5f8}.detail-content .detail-way-cancel{margin:30px 0;font-size:14px;color:#999}.detail-content .detail-way-list{margin-bottom:20px}.detail-content .detail-way-list .block.active{border:1px solid #14a2a5}.detail-content .detail-way-list .block{display:inline-block;min-width:120px;height:36px;line-height:36px;border-radius:3px;margin-right:10px;padding:0 10px;border:1px solid #dddde4;font-size:14px;cursor:pointer}.detail-content .detail-way-list .block>img{width:16px;height:16px;vertical-align:middle;margin-right:10px}.detail-content .detail-collection-info{font-size:14px;margin-bottom:10px;position:relative;line-height:22px;min-height:22px}.detail-content .detail-collection-info span{display:inline-block}.detail-content .detail-collection-info .tip{left:0;color:#646b8c;margin-right:10px}.detail-content .detail-collection-info .tip_value{vertical-align:top;font-weight:600;color:#21283e}.detail-content .detail-collection-info .tip_icon{display:inline-block;width:20px;height:20px;background-image:url("+r(l(1129))+");background-repeat:no-repeat;background-size:cover;vertical-align:middle;margin-left:10px;cursor:pointer}.detail-content .detail-collection-info .bank{display:inline-block;margin-top:3px}.detail-content .detail-hr{height:1px;background-color:#f5f5f8}.detail-content .detail-remart{margin-top:20px;margin-bottom:30px;font-size:14px;color:#21283e}.detail-content .detail-remart .tip{color:#646b8c}.detail-content .detail-remart .tip_value{font-weight:600}.detail-content .detail-pay-info{font-size:18px;font-weight:600;margin-bottom:40px}.detail-content .detail-pay-info .time{color:#e96c42}.detail-content .detail-pay-info .money{color:#14a2a5}.detail-content .detail-faq .title{font-size:14px;color:#21283e;font-weight:600;margin-bottom:10px}.detail-content .detail-faq-list{position:relative;padding-left:25px;margin-bottom:14px;font-size:14px;color:#646b8c}.detail-content .detail-faq-list .tip{display:inline-block;width:14px;height:14px;position:absolute;left:0;top:4px;background-image:url("+r(l(1130))+");background-size:cover}.detail-content .detail-faq-list .tip_value{margin-bottom:5px;cursor:pointer}.detail-content .detail-faq-list.active .tip{background-image:url("+r(l(1131))+")}.detail-content .detail-faq-list.active .tip_value{color:#14a2a5}.detail-content .pay-info-success{margin-top:35px;margin-bottom:40px}.detail-content .pay-info-success .detail-pay-info{font-size:16px}.detail-content .pay-info-success .pay-success{display:inline-block;width:30px;height:30px;margin-right:10px;vertical-align:middle;background-image:url("+r(l(1132))+");background-repeat:no-repeat;background-size:cover}.detail-content .pay-info-success .pay-evaluate{font-size:14px;color:#646b8c;margin-bottom:30px;margin-top:34px}.detail-content .el-loading-spinner .circular{width:30px}.detail-content .el-loading-spinner .path{stroke:#14a2a5}.detail-button{display:inline-block;width:180px;height:40px;line-height:40px;text-align:center;color:#fff;background:linear-gradient(90deg,#24cbba,#2babae);font-size:14px;border-radius:4px;margin-bottom:40px;cursor:pointer}.detail-order-warn{width:360px;top:50%;transform:translateY(-50%);font-size:14px;text-align:center;color:#333}.detail-order-warn .icon{display:inline-block;width:36px;height:36px;margin-bottom:10px}.detail-order-warn .tip_h1{font-weight:600}.detail-order-warn .tip_h2{margin-top:10px;margin-bottom:20px}.detail-order-warn .el-dialog__body{padding:15px 20px 30px}.detail-order-warn .el-dialog__body .detail-button{margin:0}.detail-order-qrcode{width:400px}.detail-order-qrcode .el-dialog__body{padding:0;height:600px}.detail-order-qrcode .el-dialog__header{padding:0}.pay-evaluate ul{display:inline-block;vertical-align:middle}.pay-evaluate .pay-evaluate-tip{float:left;padding-right:6px;width:20px;height:14px;background-image:url("+r(l(1133))+");background-repeat:no-repeat;background-size:14px;vertical-align:middle;cursor:pointer}.pay-evaluate .pay-evaluate-tip.active{background-image:url("+r(l(1134))+")}",""])},1129:function(e,t,l){e.exports=l.p+"img/90ebc08.svg"},1130:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjE0cHgiIGhlaWdodD0iMTRweCIgdmlld0JveD0iMCAwIDE0IDE0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMSAoNTc1MDEpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT5pY29uPC90aXRsZT4NCiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4NCiAgICA8ZGVmcz48L2RlZnM+DQogICAgPGcgaWQ9IkMyQyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+DQogICAgICAgIDxnIGlkPSLms5XluIHpppbpobUt6LSt5Lmw6K+m5oOFIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTIwLjAwMDAwMCwgLTY4MS4wMDAwMDApIj4NCiAgICAgICAgICAgIDxnIGlkPSJpY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMjAuMDAwMDAwLCA2ODEuMDAwMDAwKSI+DQogICAgICAgICAgICAgICAgPGc+DQogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtMTAiIGZpbGw9IiNFMUUwRUMiIHg9IjAiIHk9IjAiIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCI+PC9yZWN0Pg0KICAgICAgICAgICAgICAgICAgICA8cG9seWdvbiBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGw9IiNGRkZGRkYiIHBvaW50cz0iNCAzLjA2MDY2MDE3IDUuMDUwMDQ0MTkgMiAxMCA3IDUuMDUwMDQ0MTkgMTIgNCAxMC45MzkzMzk4IDcuODk5OTExNjEgNyI+PC9wb2x5Z29uPg0KICAgICAgICAgICAgICAgIDwvZz4NCiAgICAgICAgICAgIDwvZz4NCiAgICAgICAgPC9nPg0KICAgIDwvZz4NCjwvc3ZnPg=="},1131:function(e,t,l){e.exports=l.p+"img/30d058f.svg"},1132:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjxzdmcgd2lkdGg9IjMwcHgiIGhlaWdodD0iMzBweCIgdmlld0JveD0iMCAwIDMwIDMwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICAgIDwhLS0gR2VuZXJhdG9yOiBTa2V0Y2ggNTEuMSAoNTc1MDEpIC0gaHR0cDovL3d3dy5ib2hlbWlhbmNvZGluZy5jb20vc2tldGNoIC0tPg0KICAgIDx0aXRsZT7lrozmiJA8L3RpdGxlPg0KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPg0KICAgIDxkZWZzPjwvZGVmcz4NCiAgICA8ZyBpZD0iQzJDIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4NCiAgICAgICAgPGcgaWQ9IuazleW4gemmlumhtS3otK3kubDor6bmg4Ut5Lqk5piT5a6M5oiQIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTIwLjAwMDAwMCwgLTUxMi4wMDAwMDApIiBmaWxsLXJ1bGU9Im5vbnplcm8iPg0KICAgICAgICAgICAgPGcgaWQ9IuWujOaIkCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIwLjAwMDAwMCwgNTEyLjAwMDAwMCkiPg0KICAgICAgICAgICAgICAgIDxjaXJjbGUgaWQ9Ik92YWwiIGZpbGw9IiMwM0JGN0IiIGN4PSIxNSIgY3k9IjE1IiByPSIxNSI+PC9jaXJjbGU+DQogICAgICAgICAgICAgICAgPHBvbHlsaW5lIGlkPSJQYXRoLTIiIHN0cm9rZT0iI0ZGRkZGRiIgc3Ryb2tlLXdpZHRoPSIyIiBwb2ludHM9IjkgMTUuMDg0ODk1MSAxMy4wMjQ5MzQgMTkgMjEuMDAzMjEyIDExIj48L3BvbHlsaW5lPg0KICAgICAgICAgICAgPC9nPg0KICAgICAgICA8L2c+DQogICAgPC9nPg0KPC9zdmc+"},1133:function(e,t,l){e.exports=l.p+"img/ff6c7db.svg"},1134:function(e,t,l){e.exports=l.p+"img/ae2a104.svg"},1171:function(e,t,l){"use strict";l.r(t);var r={name:"articles",props:["orderdata","overtime"],computed:{},watch:{},data:()=>({activestarleve:0,paytypestate:!1,confirmorderstate:!1,affirmloading:!1,activepay:{},evaluate:{id:0,starleve:0}}),mounted(){JSON.parse(localStorage.getItem("orderevaluate")).forEach(element=>{element.id==this.orderdata.id&&(this.evaluate=element)})},created(){const e=this.orderdata;if(e&&e.payconfiglist&&e.payconfiglist.length>0)for(let i=0;i<e.payconfiglist.length;i++)if(e.payconfiglist[i].payconfig){this.activepay=e.payconfiglist[i].payconfig;break}},methods:{payaffirm(){this.confirmorderstate=!0},confirmreceipt(){this.affirmloading||(this.affirmloading=!0,this.$store.dispatch("trading_c2c_order_comfirmpay",{ordercompleteid:this.orderdata.id}).then(e=>{this.$parent.getorderdetail().then(data=>{data&&"200"==e.code&&(this.$pubsub.publish(this.$pubsub.sendImMessage,{ext:"4"}),this.$store.commit("set_message",{type:"ok",text:this.$t("c2c.Confirmed")})),this.affirmloading=!1,this.confirmorderstate=!1})}))}}},n=l(3),o=Object(n.a)(r,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._ssrNode('<div class="detail-nav"><p>'+e._ssrEscape(e._s(e.$t("legalTrad.Ordernumber"))+"："+e._s(e.orderdata.id))+"</p> <p>"+e._ssrEscape(e._s(e.$t("legalTrad.Seller"))+"："+e._s(e.orderdata.nikename))+'</p> <div class="service">'+(0==e.orderdata.orderstatus?"<span>"+e._ssrEscape(e._s(e.$t("legalTrad.Cancellorder")))+"</span>":"\x3c!----\x3e")+" "+(4==e.orderdata.orderstatus?"<span>"+e._ssrEscape(e._s(e.$t("legalDeal.Complaint")))+"</span>":"\x3c!----\x3e")+'</div></div> <p class="detail-title">'+e._ssrEscape(e._s(e.$t("legalDeal.Buy"))+" "+e._s(e.orderdata.amount)+"\n    "+e._s(e.global_get_uppercase(e.orderdata.currencyname)))+'</p> <p class="detail-title-price"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalDeal.Unitprice"))+"：")+'</span> <span class="tip_value">'+e._ssrEscape(e._s(e.global_get_tofixed(e.orderdata.price,2))+"\n      "+e._s(e.global_get_legaltype(e.orderdata.legaltype).name)+"/"+e._s(e.global_get_uppercase(e.orderdata.currencyname)))+'</span></p> <p class="detail-title-price"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalDeal.Total"))+"：")+'</span> <span class="tip_value">'+e._ssrEscape(e._s(e.$parent.getunitprice())+" "+e._s(e.global_get_legaltype(e.orderdata.legaltype).name))+'</span></p> <div class="detail-way-br"><span class="tip">'+e._ssrEscape(e._s(e.$t("c2c.Vendor")))+'</span> <div class="br"></div></div> '+(2==e.orderdata.orderstatus||3==e.orderdata.orderstatus?'<p class="detail-way-cancel">'+e._ssrEscape("\n    "+e._s(e.$t("c2c.unable"))+"\n  ")+"</p>":'<div class="detail-way-list">'+e._ssrList(e.orderdata.payconfiglist,(function(t,l){return"<span"+e._ssrClass("block",{active:e.activepay.paytypeid==t.typeid})+"><img"+e._ssrAttr("src",t.icon)+' alt class="icon">'+e._ssrEscape(e._s(t.typename))+"</span>"}))+'</div> <p class="detail-collection-info"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalDeal.Collectionnamebuy")))+'</span> <span class="tip_value">'+e._ssrEscape(e._s(e.activepay.realname))+'</span></p> <p class="detail-collection-info"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalTrad.Payaccount")))+'</span> <span class="tip_value">'+e._ssrEscape("\n      "+e._s(e.activepay.account)+"\n      ")+(e.activepay.imageurl?'<i class="tip_icon"></i>':"\x3c!----\x3e")+" <br> "+(e.activepay.bankname?'<span class="bank">'+e._ssrEscape(e._s(e.activepay.bankname)+" "+e._s(e.activepay.branchname))+"</span>":"\x3c!----\x3e")+"</span></p>")+' <div class="detail-hr"></div> <p class="detail-remart"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalTrad.Payment"))+"：")+'</span> <span class="tip_value">'+e._ssrEscape(e._s(e.orderdata.paynotes?e.orderdata.paynotes:"--"))+"</span></p> "+(0==e.orderdata.orderstatus?'<p class="detail-pay-info">'+e._ssrEscape("\n      "+e._s(e.$t("legalTrad.Waiting")))+'<span class="time">'+e._ssrEscape(e._s(e.overtime))+"</span>"+e._ssrEscape("  "+e._s(e.$t("legalTrad.in"))+e._s(e.orderdata.nikename)+e._s(e.$t("legalTrad.Paybuy"))+" ")+'<span class="money">'+e._ssrEscape(e._s(e.$parent.getunitprice())+" "+e._s(e.global_get_legaltype(e.orderdata.legaltype).name))+'</span></p> <div class="detail-button">'+e._ssrEscape(e._s(e.$t("legalTrad.Paymentconfimation"))+"\n    ")+"</div>":"\x3c!----\x3e")+" "+(6==e.orderdata.orderstatus?'<p class="detail-pay-info">'+e._ssrEscape(e._s(e.$t("c2c.Appealing")))+"</p>":"\x3c!----\x3e")+" "+(2==e.orderdata.orderstatus||3==e.orderdata.orderstatus?'<p class="detail-pay-info">'+e._ssrEscape(e._s(e.$t("c2c.TransactionCancelled")))+"</p>":"\x3c!----\x3e")+" "+(4==e.orderdata.orderstatus?'<p class="detail-pay-info">'+e._ssrEscape(e._s(e.$t("c2c.been"))+e._s(e.orderdata.nikename)+e._s(e.$t("legalTrad.Payconplete"))+"\n      ")+'<span class="money">'+e._ssrEscape(e._s(e.$parent.getunitprice())+" "+e._s(e.global_get_legaltype(e.orderdata.legaltype).name))+'</span></p> <div class="pay-info-success"><i class="pay-success"></i> <span class="detail-pay-info">'+e._ssrEscape(e._s(e.$t("c2c.Completed")))+"</span></div>":"\x3c!----\x3e")+" "+(1==e.orderdata.orderstatus||5==e.orderdata.orderstatus||7==e.orderdata.orderstatus?'<div class="pay-info-success"><i class="pay-success"></i> <span class="detail-pay-info">'+e._ssrEscape(e._s(e.$t("c2c.TransactionCompleted")))+'</span> <div class="pay-evaluate"><span>'+e._ssrEscape(e._s(e.$t("c2c.transaction")))+"</span> "+(0==e.evaluate.id?'<ul class="clearfix">'+e._ssrList([1,2,3,4,5],(function(t,l){return"<li"+e._ssrClass("pay-evaluate-tip",{active:e.orderdata.starleve>=t||e.activestarleve>=t})+"></li>"}))+"</ul>":'<ul class="clearfix">'+e._ssrList([1,2,3,4,5],(function(t,l){return"<li"+e._ssrClass("pay-evaluate-tip",{active:e.evaluate.starleve>=t})+"></li>"}))+"</ul>")+"</div></div>":"\x3c!----\x3e")+' <div class="detail-faq"><p class="title">'+e._ssrEscape(e._s(e.$t("legalTrad.questions"))+"：")+"</p> <div"+e._ssrClass("detail-faq-list",{active:e.$parent.isVisibleDetailRow(1)})+'><span class="tip"></span> <p class="tip_value">'+e._ssrEscape(e._s(e.$t("legalTrad.seller")))+"</p> <div"+e._ssrStyle(null,null,{display:e.$parent.isVisibleDetailRow(1)?"":"none"})+"><p>"+e._ssrEscape(e._s(e.$t("legalTrad.information")))+"</p> <p>"+e._ssrEscape(e._s(e.$t("legalTrad.bankcards")))+"</p> <p>"+e._ssrEscape(e._s(e.$t("legalTrad.greater")))+"</p></div></div></div> "),r("el-dialog",{attrs:{"show-close":!1,"custom-class":"detail-order-qrcode",visible:e.paytypestate},on:{"update:visible":function(t){e.paytypestate=t}}},[r("img",{attrs:{src:e.activepay.imageurl,alt:""}})]),e._ssrNode(" "),r("el-dialog",{attrs:{top:"0","custom-class":"detail-order-warn",visible:e.confirmorderstate},on:{"update:visible":function(t){e.confirmorderstate=t}}},[r("div",[r("img",{staticClass:"icon",attrs:{src:l(256),alt:""}}),e._v(" "),r("p",{staticClass:"tip_h2"},[e._v(e._s(e.$t("c2c.success")))]),e._v(" "),r("span",{directives:[{name:"loading",rawName:"v-loading",value:e.affirmloading,expression:"affirmloading"}],staticClass:"detail-button",on:{click:e.confirmreceipt}},[e._v(e._s(e.$t("legalTrad.Paymentconfimation")))])])])],2)}),[],!1,null,null,"104c205b").exports,d={name:"articles",props:["orderdata","overtime"],computed:{},watch:{},data:()=>({activestarleve:0,paytypestate:!1,confirmorderstate:!1,affirmloading:!1,activepay:{},evaluate:{id:0,starleve:0}}),mounted(){JSON.parse(localStorage.getItem("orderevaluate")).forEach(element=>{element.id==this.orderdata.id&&(this.evaluate=element)})},created(){const e=this.orderdata;if(e&&e.payconfiglist&&e.payconfiglist.length>0&&e&&e.payconfiglist&&e.payconfiglist.length>0)for(let i=0;i<e.payconfiglist.length;i++)if(e.payconfiglist[i].payconfig){this.activepay=e.payconfiglist[i].payconfig;break}},methods:{payaffirm(){this.confirmorderstate=!0},confirmreceipt(){this.affirmloading||(this.affirmloading=!0,this.$store.dispatch("trading_c2c_order_receivables",{ordercompleteid:this.orderdata.id}).then(e=>{this.$parent.getorderdetail().then(data=>{data&&"200"==e.code&&(this.$pubsub.publish(this.$pubsub.sendImMessage,{ext:"1"}),this.$store.commit("set_message",{type:"ok",text:this.$t("c2c.ConfirmedR")})),this.affirmloading=!1,this.confirmorderstate=!1})}))}}},c=Object(n.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._ssrNode('<div class="detail-nav"><p>'+e._ssrEscape(e._s(e.$t("legalTrad.Ordernumber"))+"："+e._s(e.orderdata.id))+"</p> <p>"+e._ssrEscape(e._s(e.$t("legalTrad.Buyer"))+"："+e._s(e.orderdata.nikename))+'</p> <div class="service">'+(4==e.orderdata.orderstatus?"<span>"+e._ssrEscape(e._s(e.$t("legalDeal.Complaint")))+"</span>":"\x3c!----\x3e")+'</div></div> <p class="detail-title">'+e._ssrEscape(e._s(e.$t("memberCenter.sell"))+" "+e._s(e.orderdata.amount)+"\n    "+e._s(e.global_get_uppercase(e.orderdata.currencyname)))+'</p> <p class="detail-title-price"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalDeal.Unitprice"))+"：")+'</span> <span class="tip_value">'+e._ssrEscape(e._s(e.global_get_tofixed(e.orderdata.price,2))+" "+e._s(e.global_get_legaltype(e.orderdata.legaltype).name)+"/"+e._s(e.global_get_uppercase(e.orderdata.currencyname)))+'</span></p> <p class="detail-title-price"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalDeal.Total"))+"：")+'</span> <span class="tip_value">'+e._ssrEscape(e._s(e.$parent.getunitprice())+" "+e._s(e.global_get_legaltype(e.orderdata.legaltype).name))+'</span></p> <div class="detail-way-br"><span class="tip">'+e._ssrEscape(e._s(e.$t("c2c.Vendor")))+'</span> <div class="br"></div></div> '+(2==e.orderdata.orderstatus||3==e.orderdata.orderstatus?'<p class="detail-way-cancel">'+e._ssrEscape("\n    "+e._s(e.$t("c2c.unable"))+"\n  ")+"</p>":'<div class="detail-way-list">'+e._ssrList(e.orderdata.payconfiglist,(function(t,l){return"<span"+e._ssrClass("block",{active:e.activepay.paytypeid==t.typeid})+"><img"+e._ssrAttr("src",t.icon)+' alt class="icon">'+e._ssrEscape(e._s(t.typename))+"</span>"}))+'</div> <p class="detail-collection-info"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalDeal.Collectionnamesell")))+'</span> <span class="tip_value">'+e._ssrEscape(e._s(e.activepay.realname))+'</span></p> <p class="detail-collection-info"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalTrad.Payaccount")))+'</span> <span class="tip_value">'+e._ssrEscape("\n      "+e._s(e.activepay.account)+"\n      ")+(e.activepay.imageurl?'<i class="tip_icon"></i>':"\x3c!----\x3e")+" <br> "+(e.activepay.bankname?'<span class="bank">'+e._ssrEscape(e._s(e.activepay.bankname)+" "+e._s(e.activepay.branchname))+"</span>":"\x3c!----\x3e")+"</span></p>")+' <div class="detail-hr"></div> <p class="detail-remart"><span class="tip">'+e._ssrEscape(e._s(e.$t("legalTrad.Payment"))+"：")+'</span> <span class="tip_value">'+e._ssrEscape(e._s(e.orderdata.paynotes?e.orderdata.paynotes:"--"))+"</span></p> "+(0==e.orderdata.orderstatus?'<p class="detail-pay-info">'+e._ssrEscape("\n      "+e._s(e.$t("c2c.charged"))+" ")+'<span class="time">'+e._ssrEscape(e._s(e.overtime))+"</span>"+e._ssrEscape(" "+e._s(e.$t("c2c.pay"))+" ")+'<span class="money">'+e._ssrEscape(e._s(e.$parent.getunitprice())+" "+e._s(e.global_get_legaltype(e.orderdata.legaltype).name))+"</span></p>":"\x3c!----\x3e")+" "+(4==e.orderdata.orderstatus?'<p class="detail-pay-info">'+e._ssrEscape("\n      "+e._s(e.$t("c2c.payd"))+"  ")+'<span class="money">'+e._ssrEscape(e._s(e.$parent.getunitprice())+" "+e._s(e.global_get_legaltype(e.orderdata.legaltype).name))+"</span>"+e._ssrEscape(e._s(e.$t("c2c.payd2"))+" \n    ")+'</p> <div class="detail-button"'+e._ssrStyle(null,null,{display:4==e.orderdata.orderstatus?"":"none"})+">"+e._ssrEscape(e._s(e.$t("c2c.Confirmpayment")))+"</div>":"\x3c!----\x3e")+" "+(6==e.orderdata.orderstatus?'<p class="detail-pay-info">'+e._ssrEscape(e._s(e.$t("c2c.Appealing")))+"</p>":"\x3c!----\x3e")+" "+(2==e.orderdata.orderstatus||3==e.orderdata.orderstatus?'<p class="detail-pay-info">'+e._ssrEscape(e._s(e.$t("c2c.TransactionCancelled")))+"</p>":"\x3c!----\x3e")+" "+(1==e.orderdata.orderstatus||5==e.orderdata.orderstatus||7==e.orderdata.orderstatus?'<div class="pay-info-success"><i class="pay-success"></i> <span class="detail-pay-info">'+e._ssrEscape(e._s(e.$t("c2c.TransactionCompleted")))+'</span> <div class="pay-evaluate"><span>'+e._ssrEscape(e._s(e.$t("c2c.transaction")))+"</span> "+(0==e.evaluate.id?'<ul class="clearfix">'+e._ssrList([1,2,3,4,5],(function(t,l){return"<li"+e._ssrClass("pay-evaluate-tip",{active:e.orderdata.starleve>=t||e.activestarleve>=t})+"></li>"}))+"</ul>":'<ul class="clearfix">'+e._ssrList([1,2,3,4,5],(function(t,l){return"<li"+e._ssrClass("pay-evaluate-tip",{active:e.evaluate.starleve>=t})+"></li>"}))+"</ul>")+"</div></div>":"\x3c!----\x3e")+' <div class="detail-faq"><p class="title">'+e._ssrEscape(e._s(e.$t("legalTrad.questions"))+"：")+"</p> <div"+e._ssrClass("detail-faq-list",{active:e.$parent.isVisibleDetailRow(1)})+'><span class="tip"></span> <p class="tip_value">'+e._ssrEscape(e._s(e.$t("legalTrad.seller")))+"</p> <div"+e._ssrStyle(null,null,{display:e.$parent.isVisibleDetailRow(1)?"":"none"})+"><p>"+e._ssrEscape(e._s(e.$t("legalTrad.information")))+"</p> <p>"+e._ssrEscape(e._s(e.$t("legalTrad.bankcards")))+"</p> <p>"+e._ssrEscape(e._s(e.$t("legalTrad.greater")))+"</p></div></div></div> "),r("el-dialog",{attrs:{"show-close":!1,"custom-class":"detail-order-qrcode",visible:e.paytypestate},on:{"update:visible":function(t){e.paytypestate=t}}},[r("img",{attrs:{src:e.activepay.imageurl,alt:""}})]),e._ssrNode(" "),r("el-dialog",{attrs:{top:"0","custom-class":"detail-order-warn",visible:e.confirmorderstate},on:{"update:visible":function(t){e.confirmorderstate=t}}},[r("div",[r("img",{staticClass:"icon",attrs:{src:l(256),alt:""}}),e._v(" "),r("p",{staticClass:"tip_h1"},[e._v(e._s(e.$t("c2c.2")))]),e._v(" "),r("p",{staticClass:"tip_h2"},[e._v(e._s(e.$t("c2c.3")))]),e._v(" "),r("span",{directives:[{name:"loading",rawName:"v-loading",value:e.affirmloading,expression:"affirmloading"}],staticClass:"detail-button",on:{click:e.confirmreceipt}},[e._v(e._s(e.$t("c2c.Confirmpayment")))])])])],2)}),[],!1,null,null,"7de22e4d").exports,m={watch:{$userinfo:function(e){e.uid||this.logout()},friendid:function(e,t){}},props:["orderdata","sign"],data:()=>({message:"",chatlist:[],friendid:"",file:"",fileimagestate:!1,fileimage:"",uploadfilestate:!1,fileobj:{},uploadloading:!1,isfirst:!0,linkimageloading:!1}),subscribe:()=>({sendImMessage(e){e&&this.sendmessage(e)}}),created(){},mounted(){this.login(),this.file=this.$refs["link-pic"],this.friendid=this.getfriendid(),this._data.$im.friendid=this.friendid},methods:{showimage(e){this.fileimagestate=!0,this.linkimageloading=!0,this.fileimage="";const img=e.target.src.split("#");img&&(this.fileimage=img[2]?img[2]:img[0])},ismessage(e){return e.elems[0].content.data||this.isimage(e)},isimage:e=>"TIMImageElem"==e.elems[0].type,getimage(e){const content=e.elems[0].content,t=content.getImage(webim.IMAGE_TYPE.SMALL);let l=content.getImage(webim.IMAGE_TYPE.LARGE),r=content.getImage(webim.IMAGE_TYPE.ORIGIN);return l||(l=t),r||(r=t),`${t.getUrl()}#${l.getUrl()}#${r.getUrl()}`},onProgressCallBack(e){},confirmreceipt(){const e=this._data.$im,t=this,l=this.file.files;if(!l)return;if(this.uploadloading)return;this.uploadloading=!0;const r=l[0];e.uploadinfo.file=r,e.uploadinfo.To_Account=this.friendid,e.uploadinfo.From_Account=this.$userinfo.uid,e.uploadinfo.onProgressCallBack=this.onProgressCallBack,e.uploadPic().then(e=>e,e=>{throw new Error(e)}).then(l=>{e.sendimage(l,r).then(({resp:e,msg:l})=>{t.uploadloading=!1,t.uploadfilestate=!1,t.chatlist.push(l),this.resetscroll()},e=>{t.uploadloading=!1,t.$store.commit("set_message",{type:"error",text:"发送图片失败"})})}).catch(e=>{t.uploadloading=!1,this.$store.commit("set_message",{type:"error",text:"发送图片失败"})})},handleuploadfile(){this.file.click()},changepic(e){const t=this,l=e.target.files;if(!l)return;this.uploadfilestate=!0;const r=l[0],n=r.size;if(!this.cheakpic(r,n))return;const o=new FileReader;o.onload=function(e){return function(l){t.fileobj={img:this.result,name:e.name,size:n}}}(r),o.readAsDataURL(r)},cheakpic(e,t){const l=e.type.substr(e.type.lastIndexOf("/")+1).toLowerCase();return"jpg|jpeg|png|bmp|gif|webp".indexOf(l)<0?(this.$store.commit("set_message",{type:"error",text:"选择的不是图片,请重新选择"}),!1):!((t=Math.round(t/1024*100)/100)>30720)||(this.$store.commit("set_message",{type:"error",text:"选择的图片超过最大限制"}),!1)},getdes(e){let t=e.elems[0].content.ext;if(!t)return"";t=Number(t);e.isSend;const l=this.orderdata.direction>0;let r;switch(t){case 0:r=l?this.$t("legalTrad.generatedbuy"):this.$t("legalTrad.generatedsell");break;case 4:r=l?this.$t("legalTrad.confirmPaymentbuy"):this.$t("legalTrad.confirmPaymentsell");break;case 1:r=l?`${this.$t("legalTrad.confirmPaymentbuy")} ${this.global_get_uppercase(this.orderdata.currencyname)} ${this.$t("legalTrad.confirmedPaidbuy2")}`:`${this.$t("legalTrad.confirmedPaidsell")} ${this.global_get_legaltype(this.orderdata.legaltype).name} ${this.$t("legalTrad.confirmedPaidsell2")}`;break;case 3:case 2:r=this.$t("legalTrad.orderCancelled");break;case 6:r=this.$t("legalTrad.theOrderHasEnteredTheAppealStage");break;default:r=l?this.$t("legalTrad.generatedbuy"):this.$t("legalTrad.generatedsell")}return r},getfriendid:function(){const e=this.orderdata,t=e.type<0?e.userid:e.orderuserid;return t||""},getname:e=>e?e.substring(0,1):"--",gettime(time){return this.global_get_local_time(time).format("HH:mm:ss")},onMsgNotify(e){e&&e.length>0&&(this.chatlist=this.chatlist.concat(e))},login(){const e=this._data.$im;e.logininfo.identifier=this.$userinfo.uid,e.logininfo.userSig=this.$store.state.hex_server_tencentim_sign.value,e.listeners.onMsgNotify=this.onMsgNotify;e.login().then(t=>{this.gethistory(),t.identifierNick&&(e.logininfo.identifierNick=t.identifierNick)})},logout(){this._data.$im.logout().then(e=>{})},resetscroll:function(){let e=this.$vuebar.getState(this.$refs.im_center);e.el2.scrollTop=e.el2.scrollHeight+10},sendmessage(e,t){t?13==t.keyCode&&(t.shiftKey||(t.preventDefault(),this._sendmessage(e))):this._sendmessage(e)},_sendmessage(e){const t=this._data.$im;if(!this.message.trim()&&!e)return void this.$store.commit("set_message",{type:"error",text:"消息不能为空"});const l=webim.Tool.getStrBytes(this.message.trim());let r,n;if(r=webim.MSG_MAX_LENGTH.C2C,n="消息长度超出限制(最多"+Math.round(r/3)+"汉字)",l>r)return void this.$store.commit("set_message",{type:"error",text:n});const o=this;let d={message:"",desc:"",ext:""};e?Object.assign(d,e):Object.assign(d,{message:o.message}),t.sendmessage(d).then(({resp:e,msg:t})=>{o.chatlist.push(t),o.message="",o.$nextTick(()=>{o.resetscroll()})},e=>{})},gethistory(){const e=this._data.$im,t=this;e.historyoption.Peer_Account=this.friendid,e.gethistory().then(l=>{l&&(e.historyoption.MsgKey=l.MsgKey,e.historyoption.LastMsgTime=l.LastMsgTime,t.chatlist=l.MsgList,t.$nextTick(()=>{t.resetscroll()}))},e=>{})}}};var h=Object(n.a)(m,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"hex-im"},[e._ssrNode('<div class="im_top clearfix"><div class="left"><span class="photo"'+e._ssrStyle(null,{"background-color":e.global_get_random_color(e.friendid.substring(e.friendid.length-1))},null)+">"+e._ssrEscape("\n        "+e._s(e.getname(e.orderdata.nikename))+"\n      ")+'</span> <div class="info"><p class="name">'+e._ssrEscape(e._s(e.orderdata.nikename))+'</p> <p class="comment">'+e._ssrEscape(e._s(e.$t("legalTrad.rade"))+e._s(e.orderdata.tradenum)+" "+e._s(e.$t("legalTrad.Highpraise"))+e._s(e.orderdata.goodcomment)+" "+e._s(e.$t("legalTrad.comments"))+e._s(e.orderdata.badcomment))+'</p></div></div> <div class="right"></div></div> '),l("div",{directives:[{name:"bar",rawName:"v-bar"}],ref:"im_center",staticClass:"im_center"},[e._ssrNode("<div>"+e._ssrList(e.chatlist,(function(t,l){return'<div><div class="time">'+e._ssrEscape("\n            "+e._s(e.gettime(t.time))+"\n          ")+"</div> <br> "+(t.elems[0].content.ext?'<div class="tip">'+e._ssrEscape("\n            "+e._s(e.getdes(t))+"\n          ")+"</div> <br>":"\x3c!----\x3e")+" "+("0"==t.elems[0].content.ext&&""!=e.orderdata.autoreply?'<div class="tip">'+e._ssrEscape("\n            "+e._s(e.$t("legalTrad.Automatic"))+":"+e._s(e.orderdata.autoreply)+"\n          ")+"</div> <br>":"\x3c!----\x3e")+" "+(e.ismessage(t)?'<div class="message clearfix">'+(t.isSend?'<div class="other"><p class="message_text">'+(e.isimage(t)?"<img"+e._ssrAttr("src",e.getimage(t))+" alt>":"<span>"+e._ssrEscape(e._s(t.elems[0].content.data))+"</span>")+'</p> <span class="photo"'+e._ssrStyle(null,{"background-color":e.global_get_random_color(e.$userinfo.uid.substring(e.$userinfo.uid.length-1))},null)+">"+e._ssrEscape("\n              "+e._s(e.getname(e.$userinfo.nickname))+"\n            ")+"</span></div>":'<div class="self"><span class="photo"'+e._ssrStyle(null,{"background-color":e.global_get_random_color(e.friendid.substring(e.friendid.length-1))},null)+">"+e._ssrEscape("\n              "+e._s(e.getname(e.orderdata.nikename))+"\n            ")+'</span> <p class="message_text">'+(e.isimage(t)?"<img"+e._ssrAttr("src",e.getimage(t))+" alt>":"<span>"+e._ssrEscape(e._s(t.elems[0].content.data))+"</span>")+"</p></div>")+"</div>":"\x3c!----\x3e")+"</div>"}))+"</div>")]),e._ssrNode(" "),e._ssrNode('<div class="im_bottom">',"</div>",[l("el-input",{staticClass:"im_textarea",attrs:{type:"textarea",autosize:!0,placeholder:"请输入文字，按回车发送"},nativeOn:{keydown:function(t){return e.sendmessage("",t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),e._ssrNode(' <span class="push"></span> <span class="link"><input type="file" class="link_pic"></span>')],2),e._ssrNode(" "),l("el-dialog",{attrs:{top:"0","custom-class":"detail-order-warn",visible:e.uploadfilestate},on:{"update:visible":function(t){e.uploadfilestate=t}}},[l("div",[l("img",{staticStyle:{"max-width":"100%","max-height":"100px",width:"auto"},attrs:{src:e.fileobj.img,alt:""}}),e._v(" "),l("p",{},[e._v("图片名称："+e._s(e.fileobj.name))]),e._v(" "),l("p",{staticClass:"tip_h2"},[e._v("图片大小："+e._s(parseFloat(e.fileobj.size/1024).toFixed(2))+"kb")]),e._v(" "),l("span",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadloading,expression:"uploadloading"}],staticClass:"detail-button",on:{click:e.confirmreceipt}},[e._v("发送")])])]),e._ssrNode(" "),l("el-dialog",{attrs:{"show-close":!1,"custom-class":"link_fileimage",visible:e.fileimagestate},on:{"update:visible":function(t){e.fileimagestate=t}}},[l("img",{attrs:{src:e.fileimage,alt:""},on:{load:function(t){e.linkimageloading=!1}}})])],2)}),[],!1,(function(e){var t=l(1119);t.__inject__&&t.__inject__(e)}),null,"418543b4").exports,_=l(49),f=l.n(_),x={name:"trade",data:()=>({usercancelstate:!1,userappealstate:!1,userevaluatestate:!1,userappealloading:!1,usercancelloading:!1,visibleDetailRows:[],sign:"",orderdata:{payconfiglist:[]},orderevaluate:[],activepay:{},getordermodel:{orderid:""},timer:null,overtime:"--"}),components:{"hex-detail-buy":o,"hex-detail-sell":c,"hex-im":h},async fetch({store:e,params:t}){if(e.state.hex_uid.value){const t=await e.dispatch("trading_c2c_tencentim_sig_get"),l=t.data?t.data:"";l&&e.commit("set_server_tencentim_sign",l)}},async asyncData({store:e,params:t,redirect:l}){if(!e.state.hex_uid.value)return void l("/login");const r=await e.dispatch("trading_c2c_order_pagedlist",{orderid:t.id});let n={};if(r.data&&r.data.pagedata.length>0)return n=r.data.pagedata[0],{orderdata:n};l("/trade")},methods:{payaffirm(){},getunitprice(){return this.global_get_tofixed(this.orderdata.amount*this.orderdata.price,2)},isVisibleDetailRow(e){return this.visibleDetailRows.indexOf(e)>=0},showDetailRow(e){this.isVisibleDetailRow(e)?this.visibleDetailRows.splice(this.visibleDetailRows.indexOf(e),1):(this.visibleDetailRows=[],this.visibleDetailRows.push(e))},getorderdetail(){return this.$store.dispatch("trading_c2c_order_pagedlist",{orderid:this.$route.params.id}).then(({data:data})=>{if(data&&data.pagedata.length>0){const e=data.pagedata[0];return this.orderdata=e,!0}return this.$store.commit("set_message",{type:"error",text:this.$t("c2c.OrderExist")}),!1})},userevaluate(e){1!=this.orderdata.orderstatus&&(this.userevaluatestate||(this.userevaluatestate=!0,this.$store.dispatch("trading_c2c_order_evaluate",{ordercompleteid:this.orderdata.id,starleve:e}).then(t=>{"200"==t.code?this.getorderdetail().then(data=>{data&&(this.orderevaluate.push({id:this.orderdata.id,starleve:e}),localStorage.setItem("orderevaluate",JSON.stringify(this.orderevaluate)),this.userevaluatestate=!1,this.$store.commit("set_message",{type:"ok",text:this.$t("c2c.Comment")}),setTimeout(()=>{this.$router.push("/person/legal-currency")},1e3))}):this.userevaluatestate=!1})))},changeappealstate(){this.userappealstate=!this.userappealstate},changeusercancel(){this.usercancelstate=!this.usercancelstate},usercancel(){this.usercancelloading||(this.usercancelloading=!0,this.$store.dispatch("trading_c2c_order_cancel",{ordercompleteid:this.orderdata.id}).then(e=>{"200"==e.code?this.getorderdetail().then(data=>{data&&(this.$pubsub.publish(this.$pubsub.sendImMessage,{ext:"2"}),this.usercancelstate=!1,this.usercancelloading=!1,this.$store.commit("set_message",{type:"ok",text:this.$t("c2c.Successfully")}))}):this.usercancelloading=!1}))},userappeal(){this.userappealloading||(this.userappealloading=!0,this.$store.dispatch("trading_c2c_order_appeal",{ordercompleteid:this.orderdata.id}).then(e=>{"200"==e.code?this.getorderdetail().then(data=>{data&&(this.$pubsub.publish(this.$pubsub.sendImMessage,{ext:"6"}),this.userappealstate=!1,this.userappealloading=!1,this.$store.commit("set_message",{type:"ok",text:this.$t("c2c.Submitted")}))}):this.userappealloading=!1}))},setovertime(){const e=this,t=this.global_get_local_time(this.orderdata.overtime);this.timer&&(clearInterval(this.timer),this.timer=null),this.timer=setInterval(()=>{const l=this.global_get_local_time(new Date),r=f.a.duration(t-l);if(r._milliseconds<0)clearInterval(this.timer),this.timer=null,this.overtime="--",setTimeout(()=>{this.$pubsub.publish(this.$pubsub.sendImMessage,{ext:"3"}),e.getorderdetail()},3e3);else{let e=`${r._data.hours}${this.$t("legalTrad.hour")}${r._data.minutes}${this.$t("legalTrad.minute")}${r._data.seconds}${this.$t("legalTrad.second")}`;this.overtime=e}},1e3)}},beforeRouteEnter(e,t,l){e.params.id?l(e=>{e.$userinfo.uid||e.$router.push("/login")}):l("trade")},mounted(){0==this.orderdata.orderstatus&&this.setovertime(),null==localStorage.getItem("orderevaluate")&&localStorage.setItem("orderevaluate",JSON.stringify([])),this.orderevaluate=JSON.parse(localStorage.getItem("orderevaluate"))}};var v=Object(n.a)(x,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hex-flex"},[e._ssrNode('<div class="detail hex-flex_auto">',"</div>",[e._ssrNode('<div class="detail-content">',"</div>",[e._ssrNode('<div class="detail-content_content">',"</div>",[1==e.orderdata.direction?r("hex-detail-buy",{attrs:{orderdata:e.orderdata,overtime:e.overtime}}):r("hex-detail-sell",{attrs:{overtime:e.overtime,orderdata:e.orderdata}})],1),e._ssrNode(" "),e._ssrNode('<div class="detail-content_socket">',"</div>",[e._ssrNode((1==e.orderdata.direction?'<h4 style="text-align: center;"> Chat with Seller</h4>':'<h4 style="text-align: center;"> Chat with Buyer</h4>')+" "),r("hex-im",{attrs:{sign:e.sign,orderdata:e.orderdata}})],2)],2),e._ssrNode(" "),r("el-dialog",{attrs:{top:"0","custom-class":"detail-order-warn",visible:e.userappealstate},on:{"update:visible":function(t){e.userappealstate=t}}},[r("div",[r("img",{staticClass:"icon",attrs:{src:l(256),alt:""}}),e._v(" "),r("p",{staticClass:"tip_h2"},[e._v(e._s(e.$t("c2c.Appeal")))]),e._v(" "),r("span",{directives:[{name:"loading",rawName:"v-loading",value:e.userappealloading,expression:"userappealloading"}],staticClass:"detail-button",on:{click:e.userappeal}},[e._v(e._s(e.$t("c2c.Confirmation")))])])]),e._ssrNode(" "),r("el-dialog",{attrs:{top:"0","custom-class":"detail-order-warn",visible:e.usercancelstate},on:{"update:visible":function(t){e.usercancelstate=t}}},[r("div",[r("img",{staticClass:"icon",attrs:{src:l(256),alt:""}}),e._v(" "),r("p",{staticClass:"tip_h2"},[e._v(e._s(e.$t("legalTrad.surecancel")))]),e._v(" "),r("span",{directives:[{name:"loading",rawName:"v-loading",value:e.usercancelloading,expression:"usercancelloading"}],staticClass:"detail-button",on:{click:e.usercancel}},[e._v(e._s(e.$t("legalTrad.Cancelorder")))])])])],2)])}),[],!1,(function(e){var t=l(1127);t.__inject__&&t.__inject__(e)}),null,"8d40a982");t.default=v.exports},256:function(e,t,l){e.exports=l.p+"img/05f035d.svg"},652:function(e,t,l){var content=l(1120);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var r=l(2).default;e.exports.__inject__=function(e){r("74b3db50",content,!0,e)}},653:function(e,t,l){var content=l(1128);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);var r=l(2).default;e.exports.__inject__=function(e){r("ac1adb86",content,!0,e)}}};